<!DOCTYPE html>
<html lang="en" class="light">
<head>
<meta charset="UTF-8">
<title>SkillSync | Signup</title>
<link rel="stylesheet" href="./output.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body class="min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900">

<div class="w-[430px] p-8 rounded-2xl bg-white dark:bg-gray-800 shadow-2xl">

<h1 class="text-3xl font-semibold text-gray-900 dark:text-white text-center">
Create Account ðŸš€
</h1>

<p class="text-gray-500 dark:text-gray-400 text-center mt-2 mb-6">
Join SkillSync to boost your career journey
</p>

<input id="email" class="w-full mb-3 p-3 rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-white"
placeholder="Email Address" type="email">

<input id="password" class="w-full mb-4 p-3 rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-white"
placeholder="Password" type="password">

<button id="signupBtn"
class="w-full bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-lg">
Create Account
</button>

<p class="text-center text-gray-500 dark:text-gray-400 mt-4">
Already have an account?
<a href="./login.html" class="text-indigo-500">Login</a>
</p>

</div>

<script>
if(localStorage.getItem("theme")==="dark"){document.documentElement.classList.add("dark")}
</script>

<script type="module">
import { auth, db } from "./firebase.js";
import { createUserWithEmailAndPassword } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { doc, setDoc } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const email = document.getElementById("email");
const password = document.getElementById("password");
const btn = document.getElementById("signupBtn");

btn.addEventListener("click", async(e)=>{
 e.preventDefault();
 try{
   // Create Account
   const userCred = await createUserWithEmailAndPassword(auth,email.value,password.value);

   // Save User in Firestore
   await setDoc(doc(db,"users",userCred.user.uid),{
     email: email.value,
     createdAt: new Date()
   });

   alert("Account Created ðŸŽ‰");
   window.location.href="./login.html";

 }catch(err){
   alert(err.message);
 }
});
</script>

</body>
</html>
